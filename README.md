MPI + OpenMP Решатель уравнения Пуассона
Решение уравнения Пуассона с граничными условиями Дирихле методом предобусловленного сопряжённого градиента (PCG) с использованием OpenMP и MPI.

Структура проекта

edu-cmc-skmodel25-619-2-08/
│
├── include/
│   ├── conjugate_gradient.hpp        # Реализация класса PoissonSolver (OpenMP)
│   ├── mpi_conjugate_gradient.hpp    # Реализация класса MPIPoissonSolver (MPI + OpenMP)
│
├── task.cpp                          # Последовательная версия программы
├── task_MPI.cpp                      # MPI-параллельная версия программы
│
├── plot/                             # Визуализация решений (2D и 3D)
│   ├── solution_M_800_N_1200_2D.png
│   ├── solution_M_800_N_1200_3D.png
│
├── solution/                         # Численные результаты (CSV)
│   ├── solution_M_10_N_10.csv
│   ├── solution_M_20_N_20.csv
│   ├── solution_M_40_N_40.csv
│   ├── solution_M_400_N_600.csv
│   ├── solution_M_800_N_1200.csv
│
├── log/                              # Логи этапов вычислений (stage1–8)
├── config/                           # Конфигурация lsf (stage7–8)
├── debug.log                         # Журнал сходимости (остатки итераций)
├── run.log                           # Лог автоматического локального тестирования
├── run_polus.log                     # Лог выполнения на суперкомпьютере Polus
│
├── run.sh                            # Скрипт локальной сборки и тестирования
├── run_polus.sh                      # Автоматический скрипт для запуска на IBM Polus
│
└── отчёт.pdf                         # Итоговый отчёт по курсу



Компиляция и запуск

1. Локальная сборка и тестирование

bash run.sh

Скрипт run.sh:
- автоматически компилирует все исходные коды с поддержкой OpenMP и MPI;
- запускает последовательную и параллельную версии;
- сохраняет результаты в директорию solution/;
- записывает лог выполнения в run.log.

2. Запуск на суперкомпьютере IBM Polus

bash run_polus.sh

Скрипт run_polus.sh:
- автоматически настраивает окружение (загружает модули mpi и gcc);
- компилирует код с поддержкой OpenMP/MPI;
- создаёт и отправляет задание в систему управления очередью Polus;
- собирает результаты вычислений и сохраняет в solution/;
- пишет журнал выполнения в run.log.

Таким образом, не требуется ручная настройка окружения или ввод команд вручную — весь процесс полностью автоматизирован.


Описание программы

Реализация включает три режима вычислений:
1. Последовательный режим — task.cpp, базовый PCG решатель.
2. MPI-параллельный режим — task_MPI.cpp, распределение сетки между процессами.
3. Гибридный режим MPI+OpenMP — автоматическая параллелизация внутренних циклов.

Дополнительно реализована:
1. визуализация решений (2D и 3D);
2. автоматическое разбиение области на поддомены с соблюдением пропорций;
3. сбор результатов и сохранение в CSV.


Выходные данные
- Решения для различных размеров сетки находятся в каталоге solution/.
- Визуализации (plot/) демонстрируют распределение потенциала.
- В debug.log фиксируется поведение остатка на итерациях.


Примечания
- Код совместим с компиляторами g++ и mpicxx, требует поддержки OpenMP и MPI.
- В качестве тестовой задачи решается уравнение Пуассона с правой частью f(x, y) = 1 на трапециевидной области.
- Система легко масштабируется и адаптируется под произвольное количество процессов и нитей.


Авторы и версия

Автор: Hailin Liu
Версия: 0.1.0 (2025)
Курс: СУПЕРКОМПЬЮТЕРНОЕ МОДЕЛИРОВАНИЕ И ТЕХНОЛОГИИ (MPI + OpenMP)
Отчёт: отчёт.pdf

